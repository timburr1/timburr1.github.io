import{r as n,o as s,c as a,a as t,b as e,w as o,F as c,d as p}from"./app.554c1b80.js";const l={},u=t("h1",{id:"making-a-currency-system",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#making-a-currency-system","aria-hidden":"true"},"#"),p(" Making a Currency System")],-1),i=t("p",null,[p("A common feature of Discord bots is a currency system. It's possible to do everything in one object, but we can also abstract that in terms of "),t("em",null,"relations"),p(" between objects. This is where the power of a RDBMS (Relational Database Management System) truly shines. Sequelize calls these "),t("em",null,"associations"),p(", so we'll be using that term from now on.")],-1),r=t("h2",{id:"file-overview",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#file-overview","aria-hidden":"true"},"#"),p(" File overview")],-1),k=p("There will be multiple files: a DB init script, your models, and your bot script. In "),d=p("the previous Sequelize guide"),m=p(", we placed all of these in the same file. Having everything in one file isn't an ideal practice, so we'll correct that."),b=t("p",null,"This time we'll have six files.",-1),h=t("ul",null,[t("li",null,[t("code",null,"app.js"),p(" is where we'll keep the main bot code.")]),t("li",null,[t("code",null,"dbInit.js"),p(" is the initialization file for the database. We run this once and forget about it.")]),t("li",null,[t("code",null,"dbObjects.js"),p(" is where we'll import the models and create associations here.")]),t("li",null,[t("code",null,"models/Users.js"),p(" is the Users model. Users will have a currency attribute in here.")]),t("li",null,[t("code",null,"models/CurrencyShop.js"),p(" is the Shop model. The shop will have a name and a price for each item.")]),t("li",null,[t("code",null,"models/UserItems.js"),p(" is the junction table between the users and the shop. A junction table connects two tables. Our junction table will have an additional field for the amount of that item the user has.")])],-1),y=t("h2",{id:"create-models",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#create-models","aria-hidden":"true"},"#"),p(" Create models")],-1),g=t("p",null,"Here is an entity relation diagram of the models we'll be making:",-1),f=t("p",null,[t("img",{src:"/assets/currency_er_diagram.7160077c.svg",alt:"Currency database structure diagram"})],-1),w=t("p",null,[t("code",null,"Users"),p(" have a "),t("code",null,"user_id"),p(", and a "),t("code",null,"balance"),p(". Each "),t("code",null,"user_id"),p(" can have multiple links to the "),t("code",null,"UserItems"),p(" table, and each entry in the table connects to one of the items in the "),t("code",null,"CurrencyShop"),p(", which will have a "),t("code",null,"name"),p(" and a "),t("code",null,"cost"),p(" associated with it.")],-1),v=t("p",null,[p("To implement this, begin by making a "),t("code",null,"models"),p(" folder and create a "),t("code",null,"Users.js"),p(" file inside which contains the following:")],-1),j=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[p("module"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function-variable function"},"exports"),p(),t("span",{class:"token operator"},"="),p(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[p("sequelize"),t("span",{class:"token punctuation"},","),p(" DataTypes")]),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token keyword"},"return"),p(" sequelize"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"define"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'users'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\tuser_id"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t\ttype"),t("span",{class:"token operator"},":"),p(" DataTypes"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"STRING"),t("span",{class:"token punctuation"},","),p("\n\t\t\tprimaryKey"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},","),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n\t\tbalance"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t\ttype"),t("span",{class:"token operator"},":"),p(" DataTypes"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"INTEGER"),t("span",{class:"token punctuation"},","),p("\n\t\t\tdefaultValue"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),p("\n\t\t\tallowNull"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\ttimestamps"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br")])],-1),q=t("p",null,[p("Like you see in the diagram above, the Users model will only have two attributes: a "),t("code",null,"user_id"),p(" primary key and a "),t("code",null,"balance"),p(". A primary key is a particular attribute that becomes the default column used when joining tables together, and it is automatically unique and not "),t("code",null,"null"),p(".")],-1),I=t("p",null,[p("Balance also sets "),t("code",null,"allowNull"),p(" to "),t("code",null,"false"),p(", which means that both values have to be set in conjunction with creating a primary key; otherwise, the database would throw an error. This constraint guarantees correctness in your data storage. You'll never have "),t("code",null,"null"),p(" or empty values, ensuring that if you somehow forget to validate in the application that both values are not "),t("code",null,"null"),p(", the database would do a final validation.")],-1),S=t("p",null,[p("Notice that the options object sets "),t("code",null,"timestamps"),p(" to "),t("code",null,"false"),p(". This option disables the "),t("code",null,"createdAt"),p(" and the "),t("code",null,"updatedAt"),p(" columns that sequelize usually creates for you. Setting "),t("code",null,"user_id"),p(" to primary also eliminates the "),t("code",null,"id"),p(" primary key that Sequelize usually generates for you since there can only be one primary key on a table.")],-1),T=t("p",null,[p("Next, still in the same "),t("code",null,"models"),p(" folder, create a "),t("code",null,"CurrencyShop.js"),p(" file that contains the following:")],-1),x=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[p("module"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function-variable function"},"exports"),p(),t("span",{class:"token operator"},"="),p(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[p("sequelize"),t("span",{class:"token punctuation"},","),p(" DataTypes")]),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token keyword"},"return"),p(" sequelize"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"define"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'currency_shop'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\tname"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t\ttype"),t("span",{class:"token operator"},":"),p(" DataTypes"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"STRING"),t("span",{class:"token punctuation"},","),p("\n\t\t\tunique"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},","),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n\t\tcost"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t\ttype"),t("span",{class:"token operator"},":"),p(" DataTypes"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"INTEGER"),t("span",{class:"token punctuation"},","),p("\n\t\t\tallowNull"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\ttimestamps"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br")])],-1),z=t("p",null,[p("Like the Users model, timestamps aren't needed here, so you can disable it. Unlike the Users model, however, the "),t("code",null,"unique"),p(" field is set to "),t("code",null,"true"),p(" here, allowing you to change the name without affecting the primary key that joins this to the next object. This gets generated automatically by sequelize since a primary key isn't set.")],-1),U=t("p",null,[p("The next file will be "),t("code",null,"UserItems.js"),p(", the junction table.")],-1),C=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[p("module"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function-variable function"},"exports"),p(),t("span",{class:"token operator"},"="),p(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[p("sequelize"),t("span",{class:"token punctuation"},","),p(" DataTypes")]),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token keyword"},"return"),p(" sequelize"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"define"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'user_item'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\tuser_id"),t("span",{class:"token operator"},":"),p(" DataTypes"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"STRING"),t("span",{class:"token punctuation"},","),p("\n\t\titem_id"),t("span",{class:"token operator"},":"),p(" DataTypes"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"INTEGER"),t("span",{class:"token punctuation"},","),p("\n\t\tamount"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t\ttype"),t("span",{class:"token operator"},":"),p(" DataTypes"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"INTEGER"),t("span",{class:"token punctuation"},","),p("\n\t\t\tallowNull"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),p("\n\t\t\t"),t("span",{class:"token string"},"'default'"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},","),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\ttimestamps"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br")])],-1),_=t("p",null,[p("The junction table will link "),t("code",null,"user_id"),p(" and the "),t("code",null,"id"),p(" of the currency shop together. It also contains an "),t("code",null,"amount"),p(" number, which indicates how many of that item a user has.")],-1),A=t("h2",{id:"initialize-database",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#initialize-database","aria-hidden":"true"},"#"),p(" Initialize database")],-1),N=t("p",null,[p("Now that the models are defined, you should create them in your database to access them in the bot file. We ran the sync inside the "),t("code",null,"ready"),p(" event in the previous tutorial, which is entirely unnecessary since it only needs to run once. You can make a file to initialize the database and never touch it again unless you want to remake the entire database.")],-1),D=t("p",null,[p("Create a file called "),t("code",null,"dbInit.js"),p(" in the base directory ("),t("em",null,"not"),p(" in the "),t("code",null,"models"),p(" folder).")],-1),$={class:"custom-container danger"},R=t("p",{class:"custom-container-title"},"DANGER",-1),B=p("Make sure you use version 5 or later of Sequelize! Version 4, as used in this guide, will pose a security threat. You can read more about this issue on the "),E={href:"https://github.com/sequelize/sequelize/issues/7310",target:"_blank",rel:"noopener noreferrer"},G=p("Sequelize issue tracker"),O=p("."),Y=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(" Sequelize "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'sequelize'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"const"),p(" sequelize "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"new"),p(),t("span",{class:"token class-name"},"Sequelize"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'database'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token string"},"'username'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token string"},"'password'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\thost"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'localhost'"),t("span",{class:"token punctuation"},","),p("\n\tdialect"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'sqlite'"),t("span",{class:"token punctuation"},","),p("\n\tlogging"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),p("\n\tstorage"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'database.sqlite'"),t("span",{class:"token punctuation"},","),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"const"),p(" CurrencyShop "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'./models/CurrencyShop.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"("),p("sequelize"),t("span",{class:"token punctuation"},","),p(" Sequelize"),t("span",{class:"token punctuation"},"."),p("DataTypes"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'./models/Users.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"("),p("sequelize"),t("span",{class:"token punctuation"},","),p(" Sequelize"),t("span",{class:"token punctuation"},"."),p("DataTypes"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'./models/UserItems.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"("),p("sequelize"),t("span",{class:"token punctuation"},","),p(" Sequelize"),t("span",{class:"token punctuation"},"."),p("DataTypes"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"const"),p(" force "),t("span",{class:"token operator"},"="),p(" process"),t("span",{class:"token punctuation"},"."),p("argv"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"includes"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'--force'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"||"),p(" process"),t("span",{class:"token punctuation"},"."),p("argv"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"includes"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'-f'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nsequelize"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"sync"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" force "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"then"),t("span",{class:"token punctuation"},"("),t("span",{class:"token keyword"},"async"),p(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token keyword"},"const"),p(" shop "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token punctuation"},"["),p("\n\t\tCurrencyShop"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"upsert"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" name"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'Tea'"),t("span",{class:"token punctuation"},","),p(" cost"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token number"},"1"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),p("\n\t\tCurrencyShop"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"upsert"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" name"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'Coffee'"),t("span",{class:"token punctuation"},","),p(" cost"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token number"},"2"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),p("\n\t\tCurrencyShop"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"upsert"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" name"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'Cake'"),t("span",{class:"token punctuation"},","),p(" cost"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token number"},"5"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),p("\n\t"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},";"),p("\n\n\t"),t("span",{class:"token keyword"},"await"),p(" Promise"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"all"),t("span",{class:"token punctuation"},"("),p("shop"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\tconsole"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'Database synced'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n\tsequelize"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"close"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"catch"),t("span",{class:"token punctuation"},"("),p("console"),t("span",{class:"token punctuation"},"."),p("error"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br")])],-1),L=t("p",null,"Here you pull the two models and the junction table from the respective model declarations, sync them, and add items to the shop.",-1),F=t("p",null,[p("A new function here is the "),t("code",null,".upsert()"),p(" function. It's a portmanteau for "),t("strong",null,"up"),p("date or in"),t("strong",null,"sert"),p(". "),t("code",null,"upsert"),p(" is used here to avoid creating duplicates if you run this file multiple times. That shouldn't happen because "),t("code",null,"name"),p(" is defined as "),t("em",null,"unique"),p(", but there's no harm in being safe. Upsert also has a nice side benefit: if you adjust the cost, the respective item should also have their cost updated.")],-1),P=t("div",{class:"custom-container tip"},[t("p",{class:"custom-container-title"},"TIP"),t("p",null,[p("Execute "),t("code",null,"node dbInit.js"),p(" to create the database tables. Unless you make a change to the models, you'll never need to touch the file again. If you change a model, you can execute "),t("code",null,"node dbInit.js --force"),p(" or "),t("code",null,"node dbInit.js -f"),p(" to force sync your tables. It's important to note that this "),t("strong",null,"will"),p(" empty and remake your model tables.")])],-1),M=t("h2",{id:"create-associations",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#create-associations","aria-hidden":"true"},"#"),p(" Create associations")],-1),H=t("p",null,[p("Next, add the associations to the models. Create a file named "),t("code",null,"dbObjects.js"),p(" in the base directory, next to "),t("code",null,"dbInit.js"),p(".")],-1),K=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(" Sequelize "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'sequelize'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"const"),p(" sequelize "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"new"),p(),t("span",{class:"token class-name"},"Sequelize"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'database'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token string"},"'username'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token string"},"'password'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\thost"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'localhost'"),t("span",{class:"token punctuation"},","),p("\n\tdialect"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'sqlite'"),t("span",{class:"token punctuation"},","),p("\n\tlogging"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},","),p("\n\tstorage"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'database.sqlite'"),t("span",{class:"token punctuation"},","),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"const"),p(" Users "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'./models/Users.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"("),p("sequelize"),t("span",{class:"token punctuation"},","),p(" Sequelize"),t("span",{class:"token punctuation"},"."),p("DataTypes"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(" CurrencyShop "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'./models/CurrencyShop.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"("),p("sequelize"),t("span",{class:"token punctuation"},","),p(" Sequelize"),t("span",{class:"token punctuation"},"."),p("DataTypes"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(" UserItems "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'./models/UserItems.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"("),p("sequelize"),t("span",{class:"token punctuation"},","),p(" Sequelize"),t("span",{class:"token punctuation"},"."),p("DataTypes"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nUserItems"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"belongsTo"),t("span",{class:"token punctuation"},"("),p("CurrencyShop"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p(" foreignKey"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'item_id'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token keyword"},"as"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token string"},"'item'"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nReflect"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"defineProperty"),t("span",{class:"token punctuation"},"("),t("span",{class:"token class-name"},"Users"),t("span",{class:"token punctuation"},"."),p("prototype"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token string"},"'addItem'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token comment"},"/* eslint-disable-next-line func-name-matching */"),p("\n\t"),t("span",{class:"token function-variable function"},"value"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token keyword"},"async"),p(),t("span",{class:"token keyword"},"function"),p(),t("span",{class:"token function"},"addItem"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"item"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token keyword"},"const"),p(" userItem "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"await"),p(" UserItems"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findOne"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p("\n\t\t\twhere"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p(" user_id"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token keyword"},"this"),t("span",{class:"token punctuation"},"."),p("user_id"),t("span",{class:"token punctuation"},","),p(" item_id"),t("span",{class:"token operator"},":"),p(" item"),t("span",{class:"token punctuation"},"."),p("id "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n\t\t"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("userItem"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t\tuserItem"),t("span",{class:"token punctuation"},"."),p("amount "),t("span",{class:"token operator"},"+="),p(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},";"),p("\n\t\t\t"),t("span",{class:"token keyword"},"return"),p(" userItem"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"save"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),p("\n\n\t\t"),t("span",{class:"token keyword"},"return"),p(" UserItems"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"create"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" user_id"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token keyword"},"this"),t("span",{class:"token punctuation"},"."),p("user_id"),t("span",{class:"token punctuation"},","),p(" item_id"),t("span",{class:"token operator"},":"),p(" item"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},","),p(" amount"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token number"},"1"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nReflect"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"defineProperty"),t("span",{class:"token punctuation"},"("),t("span",{class:"token class-name"},"Users"),t("span",{class:"token punctuation"},"."),p("prototype"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token string"},"'getItems'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token comment"},"/* eslint-disable-next-line func-name-matching */"),p("\n\t"),t("span",{class:"token function-variable function"},"value"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token keyword"},"function"),p(),t("span",{class:"token function"},"getItems"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token keyword"},"return"),p(" UserItems"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findAll"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p("\n\t\t\twhere"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p(" user_id"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token keyword"},"this"),t("span",{class:"token punctuation"},"."),p("user_id "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n\t\t\tinclude"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"["),t("span",{class:"token string"},"'item'"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nmodule"),t("span",{class:"token punctuation"},"."),p("exports "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token punctuation"},"{"),p(" Users"),t("span",{class:"token punctuation"},","),p(" CurrencyShop"),t("span",{class:"token punctuation"},","),p(" UserItems "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br"),t("span",{class:"line-number"},"29"),t("br"),t("span",{class:"line-number"},"30"),t("br"),t("span",{class:"line-number"},"31"),t("br"),t("span",{class:"line-number"},"32"),t("br"),t("span",{class:"line-number"},"33"),t("br"),t("span",{class:"line-number"},"34"),t("br"),t("span",{class:"line-number"},"35"),t("br"),t("span",{class:"line-number"},"36"),t("br"),t("span",{class:"line-number"},"37"),t("br"),t("span",{class:"line-number"},"38"),t("br"),t("span",{class:"line-number"},"39"),t("br"),t("span",{class:"line-number"},"40"),t("br"),t("span",{class:"line-number"},"41"),t("br"),t("span",{class:"line-number"},"42"),t("br")])],-1),V=t("p",null,[p("Note that the connection object could be abstracted in another file and had both "),t("code",null,"dbInit.js"),p(" and "),t("code",null,"dbObjects.js"),p(" use that connection file, but it's not necessary to overly abstract things.")],-1),W=t("p",null,[p("Another new method here is the "),t("code",null,".belongsTo()"),p(" method. Using this method, you add "),t("code",null,"CurrencyShop"),p(" as a property of "),t("code",null,"UserItem"),p(" so that when you do "),t("code",null,"userItem.item"),p(", you get the respectively attached item. You use "),t("code",null,"item_id"),p(" as the foreign key so that it knows which item to reference.")],-1),X=t("p",null,[p("You then add some methods to the "),t("code",null,"Users"),p(" object to finish up the junction: add items to users, and get their current inventory. The code inside should be somewhat familiar from the last tutorial. "),t("code",null,".findOne()"),p(" is used to get the item if it exists in the user's inventory. If it does, increment it; otherwise, create it.")],-1),J=t("p",null,[p("Getting items is similar; use "),t("code",null,".findAll()"),p(" with the user's id as the key. The "),t("code",null,"include"),p(" key is for associating the CurrencyShop with the item. You must explicitly tell Sequelize to honor the "),t("code",null,".belongsTo()"),p(" association; otherwise, it will take the path of the least effort.")],-1),Q=t("h2",{id:"application-code",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#application-code","aria-hidden":"true"},"#"),p(" Application code")],-1),Z=t("p",null,[p("Create an "),t("code",null,"app.js"),p(" file in the base directory with the following skeleton code to put it together.")],-1),nn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(),t("span",{class:"token punctuation"},"{"),p(" Op "),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'sequelize'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(),t("span",{class:"token punctuation"},"{"),p(" Collection"),t("span",{class:"token punctuation"},","),p(" Client"),t("span",{class:"token punctuation"},","),p(" Formatters"),t("span",{class:"token punctuation"},","),p(" Intents "),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'discord.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(),t("span",{class:"token punctuation"},"{"),p(" Users"),t("span",{class:"token punctuation"},","),p(" CurrencyShop "),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token operator"},"="),p(),t("span",{class:"token function"},"require"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'./dbObjects.js'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"const"),p(" client "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"new"),p(),t("span",{class:"token class-name"},"Client"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" intents"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"["),p("Intents"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"FLAGS"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"GUILDS"),t("span",{class:"token punctuation"},","),p(" Intents"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"FLAGS"),t("span",{class:"token punctuation"},"."),t("span",{class:"token constant"},"GUILD_MESSAGES"),t("span",{class:"token punctuation"},"]"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(" currency "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"new"),p(),t("span",{class:"token class-name"},"Collection"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token comment"},"// [alpha]"),p("\n\nclient"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"once"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'ready'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token keyword"},"async"),p(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token comment"},"// [beta]"),p("\n\tconsole"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"Logged in as "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("client"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},"."),p("tag"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},"!"),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nclient"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'messageCreate'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token keyword"},"async"),p(),t("span",{class:"token parameter"},"message"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("message"),t("span",{class:"token punctuation"},"."),p("author"),t("span",{class:"token punctuation"},"."),p("bot"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token keyword"},"return"),t("span",{class:"token punctuation"},";"),p("\n\tcurrency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"add"),t("span",{class:"token punctuation"},"("),p("message"),t("span",{class:"token punctuation"},"."),p("author"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nclient"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"on"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'interactionCreate'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token keyword"},"async"),p(),t("span",{class:"token parameter"},"interaction"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),t("span",{class:"token operator"},"!"),p("interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"isCommand"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token keyword"},"return"),t("span",{class:"token punctuation"},";"),p("\n\n\t"),t("span",{class:"token keyword"},"const"),p(),t("span",{class:"token punctuation"},"{"),p(" commandName "),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token operator"},"="),p(" interaction"),t("span",{class:"token punctuation"},";"),p("\n\n\t"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("commandName "),t("span",{class:"token operator"},"==="),p(),t("span",{class:"token string"},"'balance'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token comment"},"// [gamma]"),p("\n\t"),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token keyword"},"else"),p(),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("commandName "),t("span",{class:"token operator"},"==="),p(),t("span",{class:"token string"},"'inventory'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token comment"},"// [delta]"),p("\n\t"),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token keyword"},"else"),p(),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("commandName "),t("span",{class:"token operator"},"==="),p(),t("span",{class:"token string"},"'transfer'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token comment"},"// [epsilon]"),p("\n\t"),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token keyword"},"else"),p(),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("commandName "),t("span",{class:"token operator"},"==="),p(),t("span",{class:"token string"},"'buy'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token comment"},"// [zeta]"),p("\n\t"),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token keyword"},"else"),p(),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("commandName "),t("span",{class:"token operator"},"==="),p(),t("span",{class:"token string"},"'shop'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token comment"},"// [theta]"),p("\n\t"),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token keyword"},"else"),p(),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("commandName "),t("span",{class:"token operator"},"==="),p(),t("span",{class:"token string"},"'leaderboard'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token comment"},"// [lambda]"),p("\n\t"),t("span",{class:"token punctuation"},"}"),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nclient"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"login"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'your-token-goes-here'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br"),t("span",{class:"line-number"},"29"),t("br"),t("span",{class:"line-number"},"30"),t("br"),t("span",{class:"line-number"},"31"),t("br"),t("span",{class:"line-number"},"32"),t("br"),t("span",{class:"line-number"},"33"),t("br"),t("span",{class:"line-number"},"34"),t("br"),t("span",{class:"line-number"},"35"),t("br"),t("span",{class:"line-number"},"36"),t("br"),t("span",{class:"line-number"},"37"),t("br"),t("span",{class:"line-number"},"38"),t("br"),t("span",{class:"line-number"},"39"),t("br"),t("span",{class:"line-number"},"40"),t("br")])],-1),sn=t("p",null,[p("Nothing special about this skeleton. You import the Users and CurrencyShop models from our "),t("code",null,"dbObjects.js"),p(" file and add a currency Collection. Every time someone talks, add 1 to their currency count. The rest is just standard discord.js code and a simple if/else command handler. A Collection is used for the "),t("code",null,"currency"),p(" variable to cache individual users' currency, so you don't have to hit the database for every lookup. An if/else handler is used here, but you can put it in a framework or command handler as long as you maintain a reference to the models and the currency collection.")],-1),an=t("h3",{id:"alpha-helper-methods",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#alpha-helper-methods","aria-hidden":"true"},"#"),p(" [alpha] Helper methods")],-1),tn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[p("Reflect"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"defineProperty"),t("span",{class:"token punctuation"},"("),p("currency"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token string"},"'add'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token comment"},"/* eslint-disable-next-line func-name-matching */"),p("\n\t"),t("span",{class:"token function-variable function"},"value"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token keyword"},"async"),p(),t("span",{class:"token keyword"},"function"),p(),t("span",{class:"token function"},"add"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[p("id"),t("span",{class:"token punctuation"},","),p(" amount")]),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token keyword"},"const"),p(" user "),t("span",{class:"token operator"},"="),p(" currency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),p("id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n\t\t"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("user"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t\tuser"),t("span",{class:"token punctuation"},"."),p("balance "),t("span",{class:"token operator"},"+="),p(),t("span",{class:"token function"},"Number"),t("span",{class:"token punctuation"},"("),p("amount"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\t\t\t"),t("span",{class:"token keyword"},"return"),p(" user"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"save"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\t\t"),t("span",{class:"token punctuation"},"}"),p("\n\n\t\t"),t("span",{class:"token keyword"},"const"),p(" newUser "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"await"),p(" Users"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"create"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" user_id"),t("span",{class:"token operator"},":"),p(" id"),t("span",{class:"token punctuation"},","),p(" balance"),t("span",{class:"token operator"},":"),p(" amount "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\t\tcurrency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"set"),t("span",{class:"token punctuation"},"("),p("id"),t("span",{class:"token punctuation"},","),p(" newUser"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n\t\t"),t("span",{class:"token keyword"},"return"),p(" newUser"),t("span",{class:"token punctuation"},";"),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\nReflect"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"defineProperty"),t("span",{class:"token punctuation"},"("),p("currency"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token string"},"'getBalance'"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token comment"},"/* eslint-disable-next-line func-name-matching */"),p("\n\t"),t("span",{class:"token function-variable function"},"value"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token keyword"},"function"),p(),t("span",{class:"token function"},"getBalance"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"id"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t\t"),t("span",{class:"token keyword"},"const"),p(" user "),t("span",{class:"token operator"},"="),p(" currency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),p("id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\t\t"),t("span",{class:"token keyword"},"return"),p(" user "),t("span",{class:"token operator"},"?"),p(" user"),t("span",{class:"token punctuation"},"."),p("balance "),t("span",{class:"token operator"},":"),p(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},";"),p("\n\t"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),p("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br")])],-1),en=t("p",null,[p("This defines an "),t("code",null,".add()"),p(" method to our currency collection. You'll use it quite frequently, so having a method for it makes your life easier. A "),t("code",null,".getBalance()"),p(" method is also defined, to ensure that a number is always returned.")],-1),on=t("h3",{id:"beta-ready-event-data-sync",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#beta-ready-event-data-sync","aria-hidden":"true"},"#"),p(" [beta] Ready event data sync")],-1),cn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(" storedBalances "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"await"),p(" Users"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findAll"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\nstoredBalances"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"forEach"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"b"),p(),t("span",{class:"token operator"},"=>"),p(" currency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"set"),t("span",{class:"token punctuation"},"("),p("b"),t("span",{class:"token punctuation"},"."),p("user_id"),t("span",{class:"token punctuation"},","),p(" b"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])],-1),pn=t("p",null,"In the ready event, sync the currency collection with the database for easy access later.",-1),ln=t("h3",{id:"gamma-show-user-balance",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#gamma-show-user-balance","aria-hidden":"true"},"#"),p(" [gamma] Show user balance")],-1),un=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(" target "),t("span",{class:"token operator"},"="),p(" interaction"),t("span",{class:"token punctuation"},"."),p("options"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getUser"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'user'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"??"),p(" interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("target"),t("span",{class:"token punctuation"},"."),p("tag"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"}," has "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("currency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getBalance"),t("span",{class:"token punctuation"},"("),p("target"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},""),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br")])],-1),rn=t("p",null,[p("Nothing tricky here. The "),t("code",null,".getBalance()"),p(" method is used to show either the author's or the mentioned user's balance.")],-1),kn=t("h3",{id:"delta-show-user-inventory",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#delta-show-user-inventory","aria-hidden":"true"},"#"),p(" [delta] Show user inventory")],-1),dn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(" target "),t("span",{class:"token operator"},"="),p(" interaction"),t("span",{class:"token punctuation"},"."),p("options"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getUser"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'user'"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"??"),p(" interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(" user "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"await"),p(" Users"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findOne"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" where"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p(" user_id"),t("span",{class:"token operator"},":"),p(" target"),t("span",{class:"token punctuation"},"."),p("id "),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(" items "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"await"),p(" user"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getItems"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),t("span",{class:"token operator"},"!"),p("items"),t("span",{class:"token punctuation"},"."),p("length"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("target"),t("span",{class:"token punctuation"},"."),p("tag"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"}," has nothing!"),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("target"),t("span",{class:"token punctuation"},"."),p("tag"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"}," currently has "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("items"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"map"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"i"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("i"),t("span",{class:"token punctuation"},"."),p("amount"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"}," "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("i"),t("span",{class:"token punctuation"},"."),p("item"),t("span",{class:"token punctuation"},"."),p("name"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"join"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"', '"),t("span",{class:"token punctuation"},")"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br")])],-1),mn=t("p",null,"This is where you begin to see the power of associations. Even though users and the shop are different tables, and the data is stored separately, you can get a user's inventory by looking at the junction table and join it with the shop; no duplicated item names that waste space!",-1),bn=t("h3",{id:"epsilon-transfer-currency-to-another-user",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#epsilon-transfer-currency-to-another-user","aria-hidden":"true"},"#"),p(" [epsilon] Transfer currency to another user")],-1),hn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(" currentAmount "),t("span",{class:"token operator"},"="),p(" currency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getBalance"),t("span",{class:"token punctuation"},"("),p("interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(" transferAmount "),t("span",{class:"token operator"},"="),p(" interaction"),t("span",{class:"token punctuation"},"."),p("options"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getInteger"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'amount'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(" transferTarget "),t("span",{class:"token operator"},"="),p(" interaction"),t("span",{class:"token punctuation"},"."),p("options"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getUser"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'user'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("transferAmount "),t("span",{class:"token operator"},">"),p(" currentAmount"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"Sorry "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},", you only have "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("currentAmount"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},"."),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("transferAmount "),t("span",{class:"token operator"},"<="),p(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"Please enter an amount greater than zero, "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},"."),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\ncurrency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"add"),t("span",{class:"token punctuation"},"("),p("interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token operator"},"-"),p("transferAmount"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\ncurrency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"add"),t("span",{class:"token punctuation"},"("),p("transferTarget"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},","),p(" transferAmount"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"Successfully transferred "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("transferAmount"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"}," to "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("transferTarget"),t("span",{class:"token punctuation"},"."),p("tag"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},". Your current balance is "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("currency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getBalance"),t("span",{class:"token punctuation"},"("),p("interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},""),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br")])],-1),yn=t("p",null,"As a bot creator, you should always be thinking about how to make the user experience better. Good UX makes users less frustrated with your commands. If your inputs are different types, don't make them memorize which parameters come before the other.",-1),gn=t("p",null,[p("You'd ideally want to allow users to do both "),t("code",null,"!transfer 5 @user"),p(" and "),t("code",null,"!transfer @user 5"),p(". To get the amount, you can grab the first non-mention text in the command. In the second line of the above code: split the command by spaces and look for anything that doesn't match a mention; you can assume that's the transfer amount. Then do some checking to make sure it's a valid input. You can also do error checking on the transfer target, but we won't include that here because of its triviality.")],-1),fn=t("p",null,[t("code",null,".add()"),p(" is used for both removing and adding currency. Since transfer amounts below zero are disallowed, it's safe to apply the transfer amount's additive inverse to their balance.")],-1),wn=t("h3",{id:"zeta-buying-an-item",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#zeta-buying-an-item","aria-hidden":"true"},"#"),p(" [zeta] Buying an item")],-1),vn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(" itemName "),t("span",{class:"token operator"},"="),p(" interaction"),t("span",{class:"token punctuation"},"."),p("options"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getString"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'item'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"const"),p(" item "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"await"),p(" CurrencyShop"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findOne"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" where"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p(" name"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p(),t("span",{class:"token punctuation"},"["),p("Op"),t("span",{class:"token punctuation"},"."),p("like"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},":"),p(" itemName "),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),t("span",{class:"token operator"},"!"),p("item"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"That item doesn't exist."),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"if"),p(),t("span",{class:"token punctuation"},"("),p("item"),t("span",{class:"token punctuation"},"."),p("cost "),t("span",{class:"token operator"},">"),p(" currency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getBalance"),t("span",{class:"token punctuation"},"("),p("interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token punctuation"},"{"),p("\n\t"),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"You currently have "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("currency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getBalance"),t("span",{class:"token punctuation"},"("),p("interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},", but the "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("item"),t("span",{class:"token punctuation"},"."),p("name"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"}," costs "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("item"),t("span",{class:"token punctuation"},"."),p("cost"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},"!"),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token punctuation"},"}"),p("\n\n"),t("span",{class:"token keyword"},"const"),p(" user "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"await"),p(" Users"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findOne"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),p(" where"),t("span",{class:"token operator"},":"),p(),t("span",{class:"token punctuation"},"{"),p(" user_id"),t("span",{class:"token operator"},":"),p(" interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},"."),p("id "),t("span",{class:"token punctuation"},"}"),p(),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\ncurrency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"add"),t("span",{class:"token punctuation"},"("),p("interaction"),t("span",{class:"token punctuation"},"."),p("user"),t("span",{class:"token punctuation"},"."),p("id"),t("span",{class:"token punctuation"},","),p(),t("span",{class:"token operator"},"-"),p("item"),t("span",{class:"token punctuation"},"."),p("cost"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"await"),p(" user"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"addItem"),t("span",{class:"token punctuation"},"("),p("item"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n\n"),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"You've bought: "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("item"),t("span",{class:"token punctuation"},"."),p("name"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},"."),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br")])],-1),jn=t("p",null,[p("For users to search for an item without caring about the letter casing, you can use the "),t("code",null,"$iLike"),p(" modifier when looking for the name. Keep in mind that this may be slow if you have millions of items, so please don't put a million items in your shop.")],-1),qn=t("h3",{id:"theta-display-the-shop",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#theta-display-the-shop","aria-hidden":"true"},"#"),p(" [theta] Display the shop")],-1),In=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"const"),p(" items "),t("span",{class:"token operator"},"="),p(),t("span",{class:"token keyword"},"await"),p(" CurrencyShop"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findAll"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n"),t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),p("Formatters"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"codeBlock"),t("span",{class:"token punctuation"},"("),p("items"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"map"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"i"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("i"),t("span",{class:"token punctuation"},"."),p("name"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},": "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("i"),t("span",{class:"token punctuation"},"."),p("cost"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},""),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"join"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'\\n'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])],-1),Sn=t("p",null,[p("There's nothing special here; just a regular "),t("code",null,".findAll()"),p(" to get all the items in the shop and "),t("code",null,".map()"),p(" to transform that data into something nice looking.")],-1),Tn=t("h3",{id:"lambda-display-the-leaderboard",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#lambda-display-the-leaderboard","aria-hidden":"true"},"#"),p(" [lambda] Display the leaderboard")],-1),xn=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token keyword"},"return"),p(" interaction"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"reply"),t("span",{class:"token punctuation"},"("),p("\n\tFormatters"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"codeBlock"),t("span",{class:"token punctuation"},"("),p("\n\t\tcurrency"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"sort"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[p("a"),t("span",{class:"token punctuation"},","),p(" b")]),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"=>"),p(" b"),t("span",{class:"token punctuation"},"."),p("balance "),t("span",{class:"token operator"},"-"),p(" a"),t("span",{class:"token punctuation"},"."),p("balance"),t("span",{class:"token punctuation"},")"),p("\n\t\t\t"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"filter"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"user"),p(),t("span",{class:"token operator"},"=>"),p(" client"),t("span",{class:"token punctuation"},"."),p("users"),t("span",{class:"token punctuation"},"."),p("cache"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"has"),t("span",{class:"token punctuation"},"("),p("user"),t("span",{class:"token punctuation"},"."),p("user_id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},")"),p("\n\t\t\t"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"first"),t("span",{class:"token punctuation"},"("),t("span",{class:"token number"},"10"),t("span",{class:"token punctuation"},")"),p("\n\t\t\t"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"map"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[p("user"),t("span",{class:"token punctuation"},","),p(" position")]),t("span",{class:"token punctuation"},")"),p(),t("span",{class:"token operator"},"=>"),p(),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"("),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("position "),t("span",{class:"token operator"},"+"),p(),t("span",{class:"token number"},"1"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},") "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),t("span",{class:"token punctuation"},"("),p("client"),t("span",{class:"token punctuation"},"."),p("users"),t("span",{class:"token punctuation"},"."),p("cache"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"get"),t("span",{class:"token punctuation"},"("),p("user"),t("span",{class:"token punctuation"},"."),p("user_id"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),p("tag"),t("span",{class:"token punctuation"},")"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},": "),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),p("user"),t("span",{class:"token punctuation"},"."),p("balance"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token string"},""),t("span",{class:"token template-punctuation string"},"`")]),t("span",{class:"token punctuation"},")"),p("\n\t\t\t"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"join"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'\\n'"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),p("\n\t"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},","),p("\n"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),p("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br")])],-1),zn=t("p",null,[p("Nothing extraordinary here either. You could query the database for the top ten currency holders, but since you already have access to them locally inside the "),t("code",null,"currency"),p(" variable, you can sort the Collection and use "),t("code",null,".map()"),p(" to display it in a friendly format. The filter is in case the users no longer exist in the bot's cache.")],-1),Un=t("h2",{id:"resulting-code",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#resulting-code","aria-hidden":"true"},"#"),p(" Resulting code")],-1);l.render=function(p,l){const Cn=n("RouterLink"),_n=n("OutboundLink"),An=n("ResultingCode");return s(),a(c,null,[u,i,r,t("p",null,[k,e(Cn,{to:"/sequelize/"},{default:o((()=>[d])),_:1}),m]),b,h,y,g,f,w,v,j,q,I,S,T,x,z,U,C,_,A,N,D,t("div",$,[R,t("p",null,[B,t("a",E,[G,e(_n)]),O])]),Y,L,F,P,M,H,K,V,W,X,J,Q,Z,nn,sn,an,tn,en,on,cn,pn,ln,un,rn,kn,dn,mn,bn,hn,yn,gn,fn,wn,vn,jn,qn,In,Sn,Tn,xn,zn,Un,e(An)],64)};export{l as default};
